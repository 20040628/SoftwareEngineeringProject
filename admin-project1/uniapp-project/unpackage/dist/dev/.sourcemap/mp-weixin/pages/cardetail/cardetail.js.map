{"version":3,"file":"cardetail.js","sources":["pages/cardetail/cardetail.vue","../../安装/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvY2FyZGV0YWlsL2NhcmRldGFpbC52dWU"],"sourcesContent":["<template>\n  <view class=\"container\">\n    <!-- 基本信息 -->\n    <view class=\"info-section\">\n      <view class=\"header\">\n        <text class=\"name\">{{ scooter.id }}</text>\n        <!-- <view class=\"status-tag\" :class=\"statusClass\">\n          {{ statusText }}\n        </view> -->\n      </view>\r\n\t  \n      <!-- 价格显示 --> \n      <view class=\"price-section\">\n        <text class=\"price\">{{ calculatedPrice }}元</text>\n        <text class=\"unit\" v-if=\"durationOptions.length\">/ {{ durationOptions[selectedDuration].label }}</text>\n      </view> \n\n      <!-- 地址信息 -->\n      <view class=\"address-section\" v-if=\"scooter\" @click=\"openMap\">\n        <image src=\"/static/icons/location.png\" class=\"icon\"/>\n        <view class=\"address\">\n          <text class=\"title\">取车位置</text>\n          <text class=\"detail\">{{ scooter.location || '未知地址' }}</text>\n        </view>\n        <image src=\"/static/icons/arrow-right.png\" class=\"arrow\"/>\n      </view>\n    </view>\n\n    <!-- 地图预览\n   <!-- <map \n      :latitude=\"scooter.latitude\"\n      :longitude=\"scooter.longitude\"\n      :markers=\"[scooter]\"\n      class=\"preview-map\"\n    /> -->\n\t<view class=\"timeline-container\">\r\n\t    <h4>预订时间轴</h4>\r\n\t    <!-- 添加时间刻度 -->\r\n\t    <view class=\"timeline-scale\">\r\n\t        <view v-for=\"day in 7\" :key=\"day\" class=\"timeline-day\">\r\n\t            {{ formatDate(addDays(new Date(), day-1)) }}\r\n\t        </view>\r\n\t    </view>\r\n\t    <view class=\"timeline\">\r\n\t\t\t<view v-for=\"(slot, index) in timeline\" :key=\"index\" \r\n\t\t\t\t:class=\"['time-slot', slot.status]\"\r\n\t\t\t\t:style=\"{ width: calculateSlotWidth(slot) + '%' }\">\r\n\t\t\t\t<view class=\"slot-info\">\r\n\t\t\t\t\t{{ formatTimeSlot(slot) }}\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t    </view>\r\n\t</view>\n    <!-- 租车时长选择 -->\n    <view class=\"duration-section\">\n      <text class=\"section-title\">选择租用时长</text>\n      <view class=\"duration-grid\">\n        <view \n          v-for=\"(option, index) in durationOptions\"\n          :key=\"index\"\n          class=\"duration-item\"\n          :class=\"{ active: selectedDuration === index }\"\n          @click=\"selectDuration(index)\"\n        >\n          <text class=\"label\">{{ option.label }}</text>\n          <text class=\"sub-label\">{{ option.subLabel }}</text>\n        </view>\n      </view>\n    </view>\r\n\t<!-- 选择开始时间 -->\r\n\t<view class=\"form-group\">\r\n\t\t<label>开始时间:</label>\r\n\t\t <!-- 日期选择器 -->\r\n\t\t     <picker mode=\"date\" :value=\"bookingForm.startDate\" @change=\"onDateChange\">\r\n\t\t       <view class=\"picker\">{{ bookingForm.startDate || '请选择开始日期' }}</view>\r\n\t\t     </picker>\r\n\t\t \r\n\t\t     <!-- 时间选择器 -->\r\n\t\t     <picker mode=\"time\" :value=\"bookingForm.startTime\" @change=\"onTimeChange\">\r\n\t\t       <view class=\"picker\">{{ bookingForm.startTime || '请选择开始时间' }}</view>\r\n\t\t     </picker>\r\n\t</view>\n\n    <view class=\"action-buttons\">\r\n    \t<button @click=\"submitBooking\" :disabled=\"loading\">\r\n    \t    {{ loading ? '处理中...' : '确认预订' }}\r\n    \t</button>\r\n    \t<button @click=\"closeModal\" class=\"cancel-button\">取消</button>\r\n    </view>\r\n\t<view v-if=\"message\" :class=\"messageType === 'success' ? 'success-msg' : 'error-msg'\">\r\n\t\t{{ message }}\r\n\t</view>\r\n  </view>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      scooter:null,\r\n\t  scooterID:null,\n      selectedDuration: 0, // 默认选择第一个选项\n      durationOptions: [],\r\n\t  message: '',\r\n\t  messageType: '',\r\n\t  bookingForm: {\r\n\t    hireType: '',\r\n\t    startDate: '', \r\n\t    startTime: ''\r\n\t  },\r\n\t  timeline: [],\r\n\t  loading: false,\r\n\t  currentUser:{\r\n\t\t  userId:\r\n\t\t  uni.getStorageSync('userId') || null\r\n\t  }\n    }\n  },\r\n  async onLoad(options){\r\n  \tthis.scooterID = options.id\r\n\tawait this.loadScooterDetail()\r\n\tthis.refreshTimeline()\r\n\tthis.bookingForm.startTime = new Date().toISOString();\r\n  },\r\n  computed: {\r\n  \t    // 计算总价格\r\n  \t    calculatedPrice() {\r\n  \t      if (!this.durationOptions.length) return 0; // 确保 options 已加载\r\n  \t\r\n  \t      const option = this.durationOptions[this.selectedDuration];\r\n  \t      return (option?.price || 0).toFixed(2)\r\n  \t    }\r\n   },\r\n\n    // // 车辆状态处理\n    // statusText() {\n    //   const statusMap = {\n    //     available: '可租用',\n    //     rented: '使用中',\n    //     low_battery: '低电量',\n    //     maintenance: '维护中'\n    //   }\n    //   return statusMap[this.scooter.status]\n    // },\n\n    // statusClass() {\n    //   return `status-${this.scooter.status}`\n    // },\n\n  //   // 是否可租用\n  //   canRent() {\n  //     return this.scooter.status === 'available' || \n  //           this.scooter.status === 'low_battery'\n  //   },\n\n  //   // 租车按钮文字\n  //   rentButtonText() {\n  //     if (this.scooter.status === 'low_battery') return '低电量可租用'\n  //     if (this.scooter.status === 'available') return '立即租用'\n  //     return '暂时不可用'\n  //   }\r\n  \n  methods: {\r\n\tasync loadScooterDetail() {\r\n\t      try {\r\n\t        const res = await uni.request({\r\n\t          url: `http://localhost:8080/api/scooters/${this.scooterID}`,\r\n\t          method: 'GET'\r\n\t        })\r\n\t        \r\n\t        if (res.statusCode === 200) {\r\n\t          this.scooter = res.data\r\n\t\t\t  this.durationOptions = [\r\n\t\t\t          { label: '1小时', value: 1, type: 'hour', price: this.scooter.priceHour },\r\n\t\t\t          { label: '4小时', value: 4, type: 'hour', price: this.scooter.priceHour * 4 }, \r\n\t\t\t          { label: '1天', value: 1, type: 'day', price: this.scooter.priceDay }, \r\n\t\t\t          { label: '1周', value: 1, type: 'week', price: this.scooter.priceWeek } \r\n\t\t\t   ];\r\n\t        } else {\r\n\t          uni.showToast({ title: '车辆信息获取失败', icon: 'none' })\r\n\t        }\r\n\t      } catch (err) {\r\n\t        uni.showToast({ title: '网络错误', icon: 'none' })\r\n\t      } finally {\r\n\t        this.isLoading = false\r\n\t      }\r\n\t    },\r\n\t\r\n\tretryLoad() {\r\n\t      this.isLoading = true\r\n\t      this.loadScooterDetail()\r\n\t},\r\n\tselectDuration(index) {\r\n\t  this.selectedDuration = index\r\n\t},\r\n\t onDateChange(event) {\r\n\t      this.bookingForm.startDate = event.detail.value;\r\n\t      this.updateStartTime();\r\n\t    },\r\n\t    // 时间选择改变\r\n\t    onTimeChange(event) {\r\n\t      this.bookingForm.startTime = event.detail.value;\r\n\t      this.updateStartTime();\r\n\t    },\r\n\t    // 更新完整的日期时间\r\n\t    updateStartTime() {\r\n\t      if (this.bookingForm.startDate && this.bookingForm.startTime) {\r\n\t        const startDateTime = `${this.bookingForm.startDate} ${this.bookingForm.startTime}`;\r\n\t        console.log('选中的开始时间:', startDateTime); // 输出选择的完整日期时间\r\n\t      }\r\n\t    },\r\n// 处理租赁类型选择\n\tonHireTypeChange(e) {\n\t\tthis.bookingForm.hireType = this.durationOptions[this.selectedDuration];\n\t},\n\n\t\t// 提交预订\n\tasync submitBooking() {\n\t\tif (!this.bookingForm.startTime) {\n\t\t\t\tthis.showMessage('请选择开始时间', 'error');\n\t\t\t\treturn;\n\t\t}\n\t\tif (!this.bookingForm.hireType) {\n\t\t\tthis.showMessage('请选择租赁类型', 'error');\n\t\t\treturn;\n\t\t}\n\n\t\tthis.loading = true;\n\t\tuni.showLoading({ title: '提交中...' });\n\n\t\ttry {\n\t\t\t\tconst startTime = this.bookingForm.startTime.replace('T', ' ') + ':00';\n\n\t\t\t\tconst bookingData = {\n\t\t\t\t\tuserId: this.currentUser.userId,\n\t\t\t\t\tscooterId: this.selectedScooter.id,\n\t\t\t\t\thireType: this.bookingForm.hireType,\n\t\t\t\t\tstartTime: startTime\n\t\t\t\t};\n\n\t\t\t\t// 发送请求\n\t\t\t\tconst res = await new Promise((resolve, reject) => {\n\t\t\t\t\tuni.request({\n\t\t\t\t\t\turl: 'http://localhost:8080/api/bookings',\n\t\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\t\tdata: bookingData,\n\t\t\t\t\t\theader: { 'Content-Type': 'application/json' },\n\t\t\t\t\t\tsuccess: (response) => resolve(response),\n\t\t\t\t\t\tfail: (error) => reject(error)\n\t\t\t\t\t});\n\t\t\t\t});\n\n\t\t\t\tif (res.statusCode === 200) {\n\t\t\t\t\tthis.showMessage('预订成功', 'success');\n\t\t\t\t\tawait this.refreshTimeline();\n\t\t\t\t} else {\n\t\t\t\t\tthis.showMessage(res.data.message || '预订失败', 'error');\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\tthis.showMessage('请求失败，请重试', 'error');\n\t\t\t} finally {\n\t\t\t\tthis.loading = false;\n\t\t\t\tuni.hideLoading();\n\t\t\t}\n\t},\n\n\t\t// 显示提示信息\n\tshowMessage(text, type) {\n\t\t\tthis.message = text;\n\t\t\tthis.messageType = type;\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.message = '';\n\t\t\t}, 3000);\n\t\t}\n\t},\r\n\t// 添加刷新时间轴的方法\r\n\tasync refreshTimeline() {\r\n\t    if (this.scooter) {\r\n\t\t\ttry {\r\n\t          uni.request({\r\n\t            url: `http://localhost:8080/api/bookings/timeline/${this.scooterID}`,\r\n\t            method: 'GET',\r\n\t            success: (res) => {\r\n\t              this.timeline = res.data;\r\n\t            },\r\n\t            fail: (err) => {\r\n\t              console.error('刷新时间轴失败:', err);\r\n\t            }\r\n\t          });\r\n\t        } catch (error) {\r\n\t          console.error('刷新时间轴出错:', error);\r\n\t        }\r\n\t    }\r\n\t},\r\n\t    \r\n\tcalculateSlotWidth(slot) {\r\n\t      const start = new Date(slot.startTime).getTime();\r\n\t      const end = new Date(slot.endTime).getTime();\r\n\t      const duration = end - start;\r\n\t      \r\n\t      // 计算时间段占总时间范围的百分比\r\n\t      const totalDuration = 7 * 24 * 60 * 60 * 1000; // 7天的毫秒数\r\n\t      return (duration / totalDuration) * 100;\r\n\t},\r\n\t    \r\n\tformatTimeSlot(slot) {\r\n\t      const start = new Date(slot.startTime);\r\n\t      const end = new Date(slot.endTime);\r\n\t      if (slot.status === 'booked') {\r\n\t        let hirePeriodText;\r\n\t        switch (slot.hirePeriod) {\r\n\t          case 'HOUR':\r\n\t            hirePeriodText = '1小时';\r\n\t            break;\r\n\t          case 'FOUR_HOURS':\r\n\t            hirePeriodText = '4小时';\r\n\t            break;\r\n\t          case 'DAY':\r\n\t            hirePeriodText = '1天';\r\n\t            break;\r\n\t          case 'WEEK':\r\n\t            hirePeriodText = '1周';\r\n\t            break;\r\n\t          default:\r\n\t            hirePeriodText = slot.hirePeriod;\r\n\t        }\r\n\t        return `${this.formatTime(start)} - ${this.formatTime(end)} (${hirePeriodText})`;\r\n\t      }\r\n\t      return '可预订';\r\n\t},\r\n\tformatTime(date) {\r\n\t      return `${date.getMonth() + 1}/${date.getDate()} ${String(date.getHours()).padStart(2, '0')}:${String(date.getMinutes()).padStart(2, '0')}`;\r\n\t},\r\n\t\r\n\tformatDate(date) {\r\n\t      return `${date.getMonth() + 1}月${date.getDate()}日`;\r\n\t},\r\n\taddDays(date, days) {\r\n\t      const result = new Date(date);\r\n\t      result.setDate(result.getDate() + days);\r\n\t      return result;\r\n\t}\r\n  }\n    // handleRent() {\n    //   if (!this.canRent) return\n      \n    //   uni.showLoading({ title: '正在创建订单' })\n      \n    //   // 调用租车接口\n    //   const orderData = {\n    //     scooterId: this.scooter.id,\n    //     duration: this.durationOptions[this.selectedDuration]\n    //   }\n      \n    //   // 模拟API调用\n    //   setTimeout(() => {\n    //     uni.hideLoading()\n    //     uni.navigateTo({\n    //       url: `/pages/payment/payment?orderId=${Date.now()}`\n    //     })\n    //   }, 1000)\n    // }\n //    openMap() {\n //      uni.openLocation({\n //        latitude: this.scooter.latitude,\n //        longitude: this.scooter.longitude,\n //        name: this.scooter.address\n //      })\n\t// }\r\n\n</script>\n\n<style scoped>\n.container {\n  padding-bottom: 120rpx;\n}\n\n.scooter-swiper {\n  height: 500rpx;\n}\n\n.swiper-image {\n  width: 100%;\n  height: 100%;\n}\n\n.info-section {\n  padding: 30rpx;\n}\n\n.header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 20rpx;\n}\n\n.name {\n  font-size: 40rpx;\n  font-weight: bold;\n}\n\n.status-tag {\n  padding: 8rpx 20rpx;\n  border-radius: 40rpx;\n  font-size: 24rpx;\n  \n  &.status-available {\n    background: #e8f5e9;\n    color: #4CAF50;\n  }\n  &.status-rented {\n    background: #fff3e0;\n    color: #FF9800;\n  }\n  &.status-low_battery {\n    background: #fffde7;\n    color: #FBC02D;\n  }\n  &.status-maintenance {\n    background: #ffebee;\n    color: #F44336;\n  }\n}\n\n.price-section {\n  margin: 40rpx 0;\n  .price {\n    font-size: 64rpx;\n    color: #FF5722;\n    font-weight: bold;\n  }\n  .unit {\n    color: #666;\n    margin-left: 20rpx;\n  }\n}\n\n.address-section {\n  display: flex;\n  align-items: center;\n  padding: 30rpx;\n  background: #f5f5f5;\n  border-radius: 16rpx;\n  .icon {\n    width: 40rpx;\n    height: 40rpx;\n    margin-right: 20rpx;\n  }\n  .address {\n    flex: 1;\n    .title {\n      display: block;\n      color: #999;\n      font-size: 24rpx;\n    }\n    .detail {\n      font-size: 28rpx;\n    }\n  }\n  .arrow {\n    width: 30rpx;\n    height: 30rpx;\n    margin-left: 20rpx;\n  }\n}\n\n.preview-map {\n  height: 300rpx;\n  margin: 30rpx;\n  border-radius: 16rpx;\n}\n\n.duration-section {\n  padding: 30rpx;\n  .section-title {\n    font-size: 32rpx;\n    font-weight: bold;\n    margin-bottom: 30rpx;\n  }\n}\n\n.duration-grid {\n  display: grid;\n  grid-template-columns: repeat(2, 1fr);\n  gap: 20rpx;\n}\n\n.duration-item {\n  padding: 30rpx;\n  border: 2rpx solid #eee;\n  border-radius: 16rpx;\n  text-align: center;\n  transition: all 0.3s;\n  \n  &.active {\n    border-color: #4CAF50;\n    background: #f0f9eb;\n  }\n  \n  .label {\n    display: block;\n    font-size: 32rpx;\n    color: #333;\n  }\n  .sub-label {\n    font-size: 24rpx;\n    color: #666;\n  }\n}\n\n.action-bar {\n  position: fixed;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  padding: 20rpx;\n  background: #fff;\n  box-shadow: 0 -4rpx 12rpx rgba(0,0,0,0.1);\n}\n\n.rent-btn {\n  background: #4CAF50;\n  color: white;\n  border-radius: 50rpx;\n  font-size: 32rpx;\n  transition: all 0.3s;\n  \n  &.disabled {\n    background: #ccc;\n    opacity: 0.7;\n  }\n  \n  &:active {\n    opacity: 0.8;\n    transform: scale(0.98);\n  }\n}\r\n.timeline-container {\n  margin: 20px 0;\n  padding: 15px;\n  background: #f8f9fa;\n  border-radius: 8px;\n  box-shadow: 0 2px 4px rgba(0,0,0,0.1);\n}\n\n.timeline-scale {\n  display: flex;\n  justify-content: space-between;\n  margin-bottom: 5px;\n  padding: 0 5px;\n}\r\n.timeline-day {\n  font-size: 12px;\n  color: #666;\n  flex: 1;\n  text-align: center;\n  border-right: 1px solid #ddd;\n  padding: 2px 0;\n}\n\n.timeline {\n  display: flex;\n  height: 60px;\n  background: #fff;\n  border: 1px solid #ddd;\n  border-radius: 4px;\n  overflow: hidden;\n  margin: 5px 0;\n}\n\n.time-slot {\n  position: relative;\n  height: 100%;\n  min-width: 80px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 11px;\n  transition: all 0.3s ease;\n  padding: 0 5px;\n}\n\n.time-slot.available {\n  background: #E8F5E9;\n  color: #2E7D32;\n  border-right: 1px dashed #A5D6A7;\n}\n\n.time-slot.booked {\n  background: #FFEBEE;\n  color: #C62828;\n  border-right: 1px solid #FFCDD2;\n}\n\n.slot-info {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  text-align: center;\n  line-height: 1.2;\n  width: 100%;\n}\r\n\r\n.form-group {\n  margin-bottom: 15px;\n}\n\n.form-group label {\n  display: block;\n  margin-bottom: 5px;\n}\n\n.form-group select,\n.form-group input {\n  width: 100%;\n  padding: 8px;\n  border: 1px solid #ddd;\n  border-radius: 4px;\n}\r\n\r\n.modal-buttons {\n  display: flex;\n  gap: 10px;\n  margin-top: 20px;\n}\n\n.cancel-button {\n  background: #f44336;\n}\r\n\r\n.picker {\n\tpadding: 10px;\n\tbackground-color: #f5f5f5;\n\tborder-radius: 5px;\n\ttext-align: center;\n\tmargin-bottom: 10px;\n}\n\n</style>","import MiniProgramPage from 'D:/uniapp-project/project/pages/cardetail/cardetail.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni"],"mappings":"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"}